{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { map, slice } from 'lodash';\nimport moment from 'moment';\nimport { getNewByIdService } from '../../services/news';\nimport { getCategoryByIdService } from '../../services/category';\nimport { useTranslation } from 'react-i18next';\nimport { withTranslation } from '../../i18n';\nimport ShowMoreText from 'react-show-more-text';\nimport Carousel from 'react-multi-carousel';\n\nfunction News(_ref) {\n  var data = _ref.data,\n      type = _ref.type,\n      id = _ref.id;\n\n  var _useState = useState(3),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = useState(false),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var _useState3 = useState([]),\n      listCategory = _useState3[0],\n      setListCategory = _useState3[1];\n\n  var _useState4 = useState(''),\n      slugCategory = _useState4[0],\n      setSlugCategory = _useState4[1];\n\n  var listNews = slice(listCategory, 0, 2);\n  var listNewsTabs = slice(listCategory, 2, 5);\n\n  var _useState5 = useState(null),\n      refCarousel = _useState5[0],\n      setRefCarousel = _useState5[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var responsive = {\n    desktop: {\n      breakpoint: {\n        max: 3000,\n        min: 1024\n      },\n      items: 4\n    },\n    tablet: {\n      breakpoint: {\n        max: 1024,\n        min: 500\n      },\n      items: 2\n    },\n    mobile: {\n      breakpoint: {\n        max: 500,\n        min: 0\n      },\n      items: 1\n    }\n  };\n\n  var getCategoryById = function getCategoryById() {\n    var res;\n    return _regeneratorRuntime.async(function getCategoryById$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getCategoryByIdService(Number(data.category)));\n\n          case 2:\n            res = _context.sent;\n\n            if (res && res.status === 200) {\n              setSlugCategory(res.data.slug);\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var getCategoryPage = function getCategoryPage() {\n    var idItems, res;\n    return _regeneratorRuntime.async(function getCategoryPage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            idItems = map(data.news, function (item) {\n              return item.newsId;\n            });\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(getNewByIdService(idItems));\n\n          case 3:\n            res = _context2.sent;\n\n            if (res && res.status === 200) {\n              setListCategory(res.data);\n            }\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  };\n\n  useEffect(function () {\n    getCategoryPage();\n    getCategoryById();\n  }, []);\n\n  var showPage = function showPage() {\n    setActive(false);\n    setPage(page + 3);\n\n    if (active) {\n      setPage(3);\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  if (type === '1') {\n    return __jsx(\"div\", {\n      className: \"post_block mb-5 pt-4 mt-5\",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"title\"\n    }, __jsx(\"h2\", null, data === null ? '' : data.title)), __jsx(\"div\", {\n      className: \"row\"\n    }, map(listNews, function (item, index) {\n      return __jsx(\"div\", {\n        className: \"col-sm-4 col-md-6 col-lg-4\",\n        key: index\n      }, __jsx(\"div\", {\n        className: \"post_content mb-3\"\n      }, __jsx(\"div\", {\n        style: {\n          height: '230px',\n          width: '100%',\n          overflow: 'hidden'\n        }\n      }, __jsx(\"img\", {\n        src: item.base_image,\n        alt: \"icon\"\n      })), __jsx(\"div\", {\n        className: \"content\"\n      }, __jsx(\"div\", {\n        className: \"date mt-4\"\n      }, __jsx(\"p\", null, moment(item.created_at).format('DD-MM-YYYY'))), __jsx(\"p\", {\n        className: \"title\"\n      }, item.title), __jsx(\"p\", {\n        className: \"show\"\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url)\n      }, t('viewmore'))))));\n    })), __jsx(\"div\", {\n      className: \"btn\"\n    }, __jsx(\"button\", {\n      onClick: function onClick() {\n        return showPage();\n      }\n    }, active === false ? 'Xem thêm' : 'Thu gọn')));\n  }\n\n  if (type === '3') {\n    return __jsx(\"section\", {\n      className: \"sec-tb sec-h-4\",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"entry-head\"\n    }, __jsx(\"h2\", {\n      className: \"ht efch-1 ef-img-l\"\n    }, data.title), __jsx(\"p\", {\n      className: \"cl5\"\n    }, data.description), __jsx(\"a\", {\n      className: \"viewall\",\n      href: \"news/list/\".concat(slugCategory)\n    }, t('view'), __jsx(\"i\", {\n      className: \"icon-arrow-1\"\n    }))), __jsx(\"div\", {\n      className: \"row list-item\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-8 \"\n    }, __jsx(\"div\", {\n      className: \"list-5 row \"\n    }, map(listNews, function (item, index) {\n      return __jsx(\"div\", {\n        className: \"col-md-6\",\n        key: index\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url),\n        className: \"item efch-\".concat(index, \" ef-img-l equal\")\n      }, __jsx(\"div\", {\n        className: \"img tRes_71\"\n      }, __jsx(\"img\", {\n        className: \"lazy-hidden\",\n        \"data-lazy-type\": \"image\",\n        src: item.base_image\n      })), __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"div\", {\n        className: \"date\"\n      }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n        className: \"title line2\"\n      }, item.title), __jsx(\"div\", {\n        className: \"desc line2\"\n      }, item.shortDescription))));\n    }))), __jsx(\"div\", {\n      className: \"col-lg-4\"\n    }, __jsx(\"div\", {\n      className: \"list-6\"\n    }, map(listNewsTabs, function (item, index) {\n      return __jsx(\"a\", {\n        key: index,\n        href: \"/news/\".concat(item.url),\n        className: \"item item-inline-table\"\n      }, __jsx(\"div\", {\n        className: \"img\"\n      }, __jsx(\"img\", {\n        className: \"lazy-hidden\",\n        \"data-lazy-type\": \"image\",\n        src: item.base_image\n      })), __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"h4\", {\n        className: \"title line4\"\n      }, item.title)));\n    }))))));\n  }\n\n  if (type === '4') {\n    return __jsx(\"section\", {\n      className: \"sec-tb sec-h-3 \",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"entry-head\"\n    }, __jsx(\"h2\", {\n      className: \"ht efch-1 ef-img-t\"\n    }, data.title), __jsx(\"a\", {\n      className: \"viewall\",\n      href: \"news/list/\".concat(slugCategory)\n    }, t('view'), \" \", __jsx(\"i\", {\n      className: \"icon-arrow-1\"\n    }))), __jsx(\"div\", {\n      className: \"owl-carousel equalHeight s-nav nav-2 list-5 owl-loaded owl-drag\"\n    }, __jsx(\"div\", {\n      className: \"owl-stage-outer\"\n    }, __jsx(\"div\", {\n      className: \"owl-stage\"\n    }, __jsx(Carousel, {\n      responsive: responsive,\n      draggable: true,\n      minimumTouchDrag: 80,\n      ssr: true // means to render carousel on server-side.\n      ,\n      infinite: true,\n      keyBoardControl: true,\n      arrows: false,\n      renderButtonGroupOutside: true,\n      ref: function ref(_ref2) {\n        setRefCarousel(_ref2);\n      }\n    }, map(listCategory, function (item, index) {\n      return __jsx(\"div\", {\n        className: \"owl-item\",\n        key: index\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url),\n        className: \"item efch-\".concat(index, \" ef-img-l equal\"),\n        key: index,\n        style: {\n          height: '300px',\n          width: '262px'\n        }\n      }, __jsx(\"div\", {\n        className: \"img tRes_71\"\n      }, __jsx(\"img\", {\n        className: \"lazy-hidden\",\n        \"data-lazy-type\": \"image\",\n        src: item.base_image,\n        style: {\n          height: '187px'\n        }\n      })), __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"div\", {\n        className: \"date\"\n      }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n        className: \"title\"\n      }, __jsx(ShowMoreText, {\n        lines: 1,\n        more: \"\",\n        expanded: false,\n        width: 370\n      }, item.title)))));\n    })))), __jsx(\"div\", {\n      className: \"owl-nav\"\n    }, __jsx(\"div\", {\n      className: \"owl-prev disabled\",\n      onClick: function onClick() {\n        refCarousel.previous();\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-arrow-1 ix\"\n    })), __jsx(\"div\", {\n      className: \"owl-next\",\n      onClick: function onClick() {\n        refCarousel.next();\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-arrow-1\"\n    }))))));\n  }\n\n  if (type === '5') {\n    return __jsx(\"section\", {\n      className: \"sec-b\",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"h2\", {\n      className: \"\"\n    }, data.title), __jsx(\"p\", null, data.description), __jsx(\"div\", {\n      className: \"list-5 row list-item\"\n    }, map(listCategory, function (item, index) {\n      // if (index < 3) {\n      return __jsx(\"div\", {\n        className: data.column === undefined ? \"col-md-4\" : \"col-md-\".concat(data.column),\n        key: index\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url),\n        className: \"item efch-2 ef-img-l \"\n      }, __jsx(\"div\", {\n        className: \"img tRes_71\"\n      }, __jsx(\"img\", {\n        className: \" loaded loaded\",\n        \"data-lazy-type\": \"image\",\n        src: item.base_image\n      })), __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"div\", {\n        className: \"date\"\n      }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n        className: \"title line2\"\n      }, item.title), __jsx(\"div\", {\n        className: \"desc line2\"\n      }, item.shortDescription)))); // }\n    }))));\n  }\n\n  if (type === '6') {\n    return __jsx(\"section\", {\n      className: \"sec-b sec-blog-2\",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"h2\", {\n      className: \"\"\n    }, data.title), __jsx(\"div\", {\n      className: \"row list-item\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-4\"\n    }, __jsx(\"a\", {\n      href: data.url,\n      className: \"item-banner  tRes \"\n    }, __jsx(\"img\", {\n      className: \" loaded loaded\",\n      \"data-lazy-type\": \"image\",\n      src: data.image\n    }))), __jsx(\"div\", {\n      className: \"col-lg-8\"\n    }, __jsx(\"div\", {\n      className: \"list-1-1  mb-30 \"\n    }, map(listCategory, function (item, index) {\n      if (index === 0) {\n        return __jsx(\"a\", {\n          href: \"/news/\".concat(item.url),\n          className: \"item  tRes_39 \"\n        }, __jsx(\"img\", {\n          className: \" loaded loaded\",\n          \"data-lazy-type\": \"image\",\n          src: item.base_image\n        }), __jsx(\"div\", {\n          className: \"divtext\"\n        }, __jsx(\"h4\", {\n          className: \"title line2\"\n        }, item.title)));\n      }\n\n      return null;\n    })), __jsx(\"div\", {\n      className: \"list-5 row list-item\"\n    }, map(listCategory, function (item, index) {\n      if (index > 0 && index < 3) {\n        return __jsx(\"div\", {\n          className: \"col-md-6\"\n        }, __jsx(\"a\", {\n          href: \"/news/\".concat(item.url),\n          className: \"item efch-\".concat(index, \" ef-img-l \")\n        }, __jsx(\"div\", {\n          className: \"img tRes_51\"\n        }, __jsx(\"img\", {\n          className: \" loaded loaded\",\n          \"data-lazy-type\": \"image\",\n          src: item.base_image\n        })), __jsx(\"div\", {\n          className: \"divtext\"\n        }, __jsx(\"h4\", {\n          className: \"title line2\"\n        }, item.title))));\n      }\n\n      return null;\n    }))))));\n  }\n\n  if (type === '7') {\n    return __jsx(\"section\", {\n      className: \"sec-b\",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"list-5 row list-item\"\n    }, map(listCategory, function (item, index) {\n      return __jsx(\"div\", {\n        className: \"col-md-4\",\n        key: index\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url),\n        className: \"item efch-\".concat(index, \" ef-img-l\")\n      }, __jsx(\"div\", {\n        className: \"img tRes_71\"\n      }, __jsx(\"img\", {\n        className: \" loaded loaded\",\n        \"data-lazy-type\": \"image\",\n        src: item.base_image\n      })), __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"div\", {\n        className: \"date\"\n      }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n        className: \"title line2\"\n      }, item.title), __jsx(\"div\", {\n        className: \"desc line2\"\n      }, item.shortDescription))));\n    }))));\n  }\n\n  if (type === '8') {\n    return __jsx(\"section\", {\n      className: \"sec-b sec-h-4__\",\n      id: id\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"h2\", {\n      className: \"font\"\n    }, data.title), __jsx(\"p\", {\n      className: \"cl5\"\n    }, data.description), __jsx(\"div\", {\n      className: \"list-5 list-5-1 row list-item\"\n    }, map(listCategory, function (item, index) {\n      return __jsx(\"div\", {\n        className: \"col-md-4\",\n        key: index\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url),\n        className: \"item efch-\".concat(index, \" ef-img-l equal\")\n      }, __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"div\", {\n        className: \"date\"\n      }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n        className: \"title line2\"\n      }, item.title), __jsx(\"div\", {\n        className: \"desc line2\"\n      }, item.shortDescription), __jsx(\"span\", {\n        className: \"more cl1\",\n        style: {\n          display: 'block',\n          paddingTop: '30px'\n        }\n      }, t('look_more')))));\n    }))));\n  }\n\n  if (type === '9') {\n    return __jsx(\"section\", {\n      className: \"sec-b sec-h-4\"\n    }, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"entry-head\"\n    }, __jsx(\"h2\", {\n      className: \"ht efch-1 ef-img-l\"\n    }, data.title)), __jsx(\"div\", {\n      className: \"row list-item\"\n    }, __jsx(\"div\", {\n      className: \"col-lg-6 list-1\"\n    }, map(listCategory, function (item, index) {\n      if (index === 0) {\n        return __jsx(React.Fragment, null, __jsx(\"a\", {\n          href: \"/news/\".concat(item.url),\n          className: \"item  tRes_56 video\"\n        }, item.author_name === '' || item.author_name === null ? __jsx(\"div\", null, __jsx(\"img\", {\n          className: \" loaded loaded\",\n          \"data-lazy-type\": \"image\",\n          \"data-lazy-src\": \"https://via.placeholder.com/262x187\",\n          src: item.base_image\n        }), __jsx(\"div\", {\n          className: \"divtext\"\n        }, __jsx(\"div\", {\n          className: \"date\"\n        }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n          className: \"title line2\"\n        }, item.title))) : __jsx(\"iframe\", {\n          src: item.author_name\n        })));\n      }\n\n      return null;\n    })), __jsx(\"div\", {\n      className: \"col-lg-6\"\n    }, __jsx(\"div\", {\n      className: \"list-6-1\"\n    }, map(listCategory, function (item, index) {\n      if (index > 0 && index < 3) {\n        return __jsx(React.Fragment, null, __jsx(\"a\", {\n          href: \"/news/\".concat(item.url),\n          className: \"item item-inline-table\"\n        }, item.author_name === null ? __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"img tRes_56 video cl\"\n        }, __jsx(\"img\", {\n          className: \" loaded loaded\",\n          \"data-lazy-type\": \"image\",\n          src: item.base_image\n        })), __jsx(\"div\", {\n          className: \"divtext\"\n        }, __jsx(\"div\", {\n          className: \"date\"\n        }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n          className: \"title line2\"\n        }, item.title), __jsx(\"div\", {\n          className: \"desc line3\"\n        }, item.shortDescription))) : __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"img tRes_56 video cl\"\n        }, __jsx(\"iframe\", {\n          src: item.author_name\n        })), __jsx(\"div\", {\n          className: \"divtext\"\n        }, __jsx(\"div\", {\n          className: \"date\"\n        }, moment(item.created_at).format('DD-MM-YYYY')), __jsx(\"h4\", {\n          className: \"title line2\"\n        }, item.title), __jsx(\"div\", {\n          className: \"desc line3\"\n        }, item.shortDescription)))));\n      }\n\n      return null;\n    }))))));\n  }\n}\n\nNews.getInitialProps = function _callee() {\n  return _regeneratorRuntime.async(function _callee$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", {\n            namespacesRequired: ['common', 'news']\n          });\n\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  });\n};\n\nexport default withTranslation('common')(News);","map":null,"metadata":{},"sourceType":"module"}