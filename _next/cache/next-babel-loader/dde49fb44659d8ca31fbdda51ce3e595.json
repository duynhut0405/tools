{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Layout from '../../components/layout';\nimport { Social } from '../../components/common';\nimport { getNewCategoryIdService, getNewByUri } from '../../services/news';\nimport moment from 'moment';\nimport { map, filter } from 'lodash';\nimport { useRouter } from 'next/router';\nimport ReactHtmlParser from 'react-html-parser';\nimport { connect } from 'react-redux';\n\nfunction New(_ref) {\n  var socialLink = _ref.socialLink,\n      getSocialLink = _ref.getSocialLink;\n\n  var _useState = useState({}),\n      news = _useState[0],\n      setNews = _useState[1];\n\n  var _useState2 = useState([]),\n      relatedPost = _useState2[0],\n      setRelatedPost = _useState2[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    var res = getNewByUri(router.query.slug);\n    res.then(function (respone) {\n      if (respone !== undefined && respone !== null && respone.status === 200) {\n        setNews(respone.data);\n\n        if (respone.data.categories !== null && respone.data.categories.length > 0) {\n          getNewCategoryIdService(respone.data.categories[0].id).then(function (data) {\n            if (data !== null && data.status === 200) {\n              setRelatedPost(data.data);\n            }\n          });\n        }\n      }\n    });\n  }, [getNewByUri, getSocialLink]);\n  return __jsx(Layout, {\n    title: news.meta_title\n  }, __jsx(\"section\", {\n    className: \"banner-heading-3 next-shadow\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"divtext\"\n  }, __jsx(\"div\", {\n    className: \"max750\"\n  }, __jsx(\"h1\", {\n    className: \" \"\n  }, news.title)))), __jsx(\"img\", {\n    className: \"img br loaded loaded\",\n    \"data-lazy-type\": \"image\",\n    \"data-lazy-src\": \"/static/images/heading-10.svg\",\n    src: \"/static/images/heading-10.svg\"\n  })), __jsx(\"main\", {\n    id: \"main\",\n    className: \"sec-b page-news-detail\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \" max750\"\n  }, __jsx(\"div\", {\n    className: \"top-heading\"\n  }, __jsx(\"div\", {\n    className: \"date\"\n  }, moment(news.created_at).format('DD/MM/YYYY')), __jsx(Social, {\n    data: socialLink\n  })), __jsx(\"div\", {\n    className: \"entry-content\"\n  }, ReactHtmlParser(news.description)), __jsx(\"br\", null), __jsx(\"div\", {\n    className: \"tags\"\n  }, __jsx(\"h2\", null, \"N\\u1ED9i dung li\\xEAn quan\"), map(news.categories, function (item) {\n    return __jsx(\"a\", {\n      className: \"tag\",\n      href: \"#\",\n      key: item.id\n    }, item.name);\n  }))))), __jsx(\"section\", {\n    className: \"sec-tb\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"entry-head\"\n  }, __jsx(\"h2\", {\n    className: \"ht efch-1 ef-img-t\"\n  }, \"Tin b\\xE0i li\\xEAn quan\")), __jsx(\"div\", {\n    className: \"list-7  list-item row\"\n  }, map(filter(relatedPost, function (item_a, item_b) {\n    return relatedPost.indexOf(item_a) === item_b;\n  }), function (item, index) {\n    if (index < 2) {\n      return __jsx(\"div\", {\n        className: \"col-md-6\",\n        key: item.newsId\n      }, __jsx(\"a\", {\n        href: \"/news/\".concat(item.url),\n        className: \"item item-inline-table\"\n      }, __jsx(\"div\", {\n        className: \"img\"\n      }, __jsx(\"img\", {\n        className: \" loaded loaded\",\n        \"data-lazy-type\": \"image\",\n        \"data-lazy-src\": item.base_image,\n        src: item.base_image\n      })), __jsx(\"div\", {\n        className: \"divtext\"\n      }, __jsx(\"div\", {\n        className: \"date\"\n      }, moment(item.created_at).format('DD/MM/YYYY')), __jsx(\"h4\", {\n        className: \"title line2\"\n      }, item.title), __jsx(\"div\", {\n        className: \"desc line3\"\n      }, item.shortDescription))));\n    }\n\n    return null;\n  })))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    socialLink: state.layoutReducer.socialLink\n  };\n};\n\nexport default connect(mapStateToProps, null)(New);","map":null,"metadata":{},"sourceType":"module"}