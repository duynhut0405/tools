{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuHeaderSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuNavSaga),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuFooterTopSaga),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuFooterMainSaga),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuFooterBottomSaga),\n    _marked6 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport actions from './actions';\nimport { takeLatest, put, all, fork } from 'redux-saga/effects';\nimport { getMenuItemByPosition } from '../../services/menu';\n\nvar nest = function nest(items) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var link = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'parentId';\n  return items.filter(function (item) {\n    return item[link] === id;\n  }).map(function (item) {\n    return _objectSpread({}, item, {\n      title: \"\".concat(item.name),\n      children: nest(items.sort(function (a, b) {\n        return a.position - b.position;\n      }), item.id),\n      expanded: true\n    });\n  });\n};\n\nfunction getMenuHeaderSaga() {\n  return _regeneratorRuntime.wrap(function getMenuHeaderSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(actions.GET_MENU_HEADER_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.prev = 0;\n                    _context.next = 3;\n                    return getMenuItemByPosition('top_top');\n\n                  case 3:\n                    res = _context.sent;\n\n                    if (!(res.status === 200)) {\n                      _context.next = 9;\n                      break;\n                    }\n\n                    _context.next = 7;\n                    return put({\n                      type: actions.GET_MENU_HEADER_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context.next = 9;\n                    break;\n\n                  case 9:\n                    _context.next = 13;\n                    break;\n\n                  case 11:\n                    _context.prev = 11;\n                    _context.t0 = _context[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction getMenuNavSaga() {\n  return _regeneratorRuntime.wrap(function getMenuNavSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(actions.GET_MENU_NAV_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee2() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.prev = 0;\n                    _context3.next = 3;\n                    return getMenuItemByPosition('top2');\n\n                  case 3:\n                    res = _context3.sent;\n\n                    if (!(res.status === 200)) {\n                      _context3.next = 9;\n                      break;\n                    }\n\n                    _context3.next = 7;\n                    return put({\n                      type: actions.GET_MENU_NAV_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context3.next = 9;\n                    break;\n\n                  case 9:\n                    _context3.next = 13;\n                    break;\n\n                  case 11:\n                    _context3.prev = 11;\n                    _context3.t0 = _context3[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee2, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction getMenuFooterTopSaga() {\n  return _regeneratorRuntime.wrap(function getMenuFooterTopSaga$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(actions.GET_MENU_FOOTER_TOP_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee3() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee3$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    _context5.prev = 0;\n                    _context5.next = 3;\n                    return getMenuItemByPosition('Menu footer top');\n\n                  case 3:\n                    res = _context5.sent;\n\n                    if (!(res.status === 200)) {\n                      _context5.next = 9;\n                      break;\n                    }\n\n                    _context5.next = 7;\n                    return put({\n                      type: actions.GET_MENU_FOOTER_TOP_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context5.next = 9;\n                    break;\n\n                  case 9:\n                    _context5.next = 13;\n                    break;\n\n                  case 11:\n                    _context5.prev = 11;\n                    _context5.t0 = _context5[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            }, _callee3, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction getMenuFooterMainSaga() {\n  return _regeneratorRuntime.wrap(function getMenuFooterMainSaga$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest(actions.GET_MENU_FOOTER_MAIN_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee4() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee4$(_context7) {\n              while (1) {\n                switch (_context7.prev = _context7.next) {\n                  case 0:\n                    _context7.prev = 0;\n                    _context7.next = 3;\n                    return getMenuItemByPosition('Menu footer main');\n\n                  case 3:\n                    res = _context7.sent;\n\n                    if (!(res.status === 200)) {\n                      _context7.next = 9;\n                      break;\n                    }\n\n                    _context7.next = 7;\n                    return put({\n                      type: actions.GET_MENU_FOOTER_MAIN_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context7.next = 9;\n                    break;\n\n                  case 9:\n                    _context7.next = 13;\n                    break;\n\n                  case 11:\n                    _context7.prev = 11;\n                    _context7.t0 = _context7[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context7.stop();\n                }\n              }\n            }, _callee4, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction getMenuFooterBottomSaga() {\n  return _regeneratorRuntime.wrap(function getMenuFooterBottomSaga$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeLatest(actions.GET_MENU_FOOTER_BOTTOM_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee5() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee5$(_context9) {\n              while (1) {\n                switch (_context9.prev = _context9.next) {\n                  case 0:\n                    _context9.prev = 0;\n                    _context9.next = 3;\n                    return getMenuItemByPosition('menu footer bottom');\n\n                  case 3:\n                    res = _context9.sent;\n\n                    if (!(res.status === 200)) {\n                      _context9.next = 9;\n                      break;\n                    }\n\n                    _context9.next = 7;\n                    return put({\n                      type: actions.GET_MENU_FOOTER_BOTTOM_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context9.next = 9;\n                    break;\n\n                  case 9:\n                    _context9.next = 13;\n                    break;\n\n                  case 11:\n                    _context9.prev = 11;\n                    _context9.t0 = _context9[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context9.stop();\n                }\n              }\n            }, _callee5, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked5);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return all([fork(getMenuHeaderSaga), fork(getMenuNavSaga), fork(getMenuFooterTopSaga), fork(getMenuFooterMainSaga), fork(getMenuFooterBottomSaga)]);\n\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked6);\n}","map":null,"metadata":{},"sourceType":"module"}