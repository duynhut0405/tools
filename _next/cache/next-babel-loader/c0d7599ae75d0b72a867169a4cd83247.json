{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuHeaderSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuNavSaga),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuFooterTopSaga),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuFooterMainSaga),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getMenuFooterBottomSaga),\n    _marked6 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport actions from './actions';\nimport { takeLatest, put, all, fork } from 'redux-saga/effects';\nimport { getMenuItemByPosition } from '../../services/menu';\n\nvar nest = function nest(items) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var link = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'parentId';\n  return items.filter(function (item) {\n    return item[link] === id;\n  }).map(function (item) {\n    return _objectSpread({}, item, {\n      title: \"\".concat(item.name),\n      children: nest(items.sort(function (a, b) {\n        return a.position - b.position;\n      }), item.id),\n      expanded: true\n    });\n  });\n};\n\nfunction getMenuHeaderSaga() {\n  return _regeneratorRuntime.wrap(function getMenuHeaderSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(actions.GET_MENU_HEADER_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.prev = 0;\n                    _context.next = 3;\n                    return getMenuItemByPosition('top_top');\n\n                  case 3:\n                    res = _context.sent;\n\n                    if (!(res.status === 200)) {\n                      _context.next = 9;\n                      break;\n                    }\n\n                    _context.next = 7;\n                    return put({\n                      type: actions.GET_MENU_HEADER_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context.next = 9;\n                    break;\n\n                  case 9:\n                    _context.next = 13;\n                    break;\n\n                  case 11:\n                    _context.prev = 11;\n                    _context.t0 = _context[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction getMenuNavSaga() {\n  return _regeneratorRuntime.wrap(function getMenuNavSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(actions.GET_MENU_NAV_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee2() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.prev = 0;\n                    _context3.next = 3;\n                    return getMenuItemByPosition('top2');\n\n                  case 3:\n                    res = _context3.sent;\n\n                    if (!(res.status === 200)) {\n                      _context3.next = 9;\n                      break;\n                    }\n\n                    _context3.next = 7;\n                    return put({\n                      type: actions.GET_MENU_NAV_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context3.next = 9;\n                    break;\n\n                  case 9:\n                    _context3.next = 13;\n                    break;\n\n                  case 11:\n                    _context3.prev = 11;\n                    _context3.t0 = _context3[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee2, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction getMenuFooterTopSaga() {\n  return _regeneratorRuntime.wrap(function getMenuFooterTopSaga$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(actions.GET_MENU_FOOTER_TOP_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee3() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee3$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    _context5.prev = 0;\n                    _context5.next = 3;\n                    return getMenuItemByPosition('Menu footer top');\n\n                  case 3:\n                    res = _context5.sent;\n\n                    if (!(res.status === 200)) {\n                      _context5.next = 9;\n                      break;\n                    }\n\n                    _context5.next = 7;\n                    return put({\n                      type: actions.GET_MENU_FOOTER_TOP_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context5.next = 9;\n                    break;\n\n                  case 9:\n                    _context5.next = 13;\n                    break;\n\n                  case 11:\n                    _context5.prev = 11;\n                    _context5.t0 = _context5[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            }, _callee3, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction getMenuFooterMainSaga() {\n  return _regeneratorRuntime.wrap(function getMenuFooterMainSaga$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest(actions.GET_MENU_FOOTER_MAIN_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee4() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee4$(_context7) {\n              while (1) {\n                switch (_context7.prev = _context7.next) {\n                  case 0:\n                    _context7.prev = 0;\n                    _context7.next = 3;\n                    return getMenuItemByPosition('Menu footer main');\n\n                  case 3:\n                    res = _context7.sent;\n\n                    if (!(res.status === 200)) {\n                      _context7.next = 9;\n                      break;\n                    }\n\n                    _context7.next = 7;\n                    return put({\n                      type: actions.GET_MENU_FOOTER_MAIN_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context7.next = 9;\n                    break;\n\n                  case 9:\n                    _context7.next = 13;\n                    break;\n\n                  case 11:\n                    _context7.prev = 11;\n                    _context7.t0 = _context7[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context7.stop();\n                }\n              }\n            }, _callee4, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction getMenuFooterBottomSaga() {\n  return _regeneratorRuntime.wrap(function getMenuFooterBottomSaga$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeLatest(actions.GET_MENU_FOOTER_BOTTOM_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee5() {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee5$(_context9) {\n              while (1) {\n                switch (_context9.prev = _context9.next) {\n                  case 0:\n                    _context9.prev = 0;\n                    _context9.next = 3;\n                    return getMenuItemByPosition('menu footer bottom');\n\n                  case 3:\n                    res = _context9.sent;\n\n                    if (!(res.status === 200)) {\n                      _context9.next = 9;\n                      break;\n                    }\n\n                    _context9.next = 7;\n                    return put({\n                      type: actions.GET_MENU_FOOTER_BOTTOM_RESPONSE,\n                      data: nest(res.data.menuItems)\n                    });\n\n                  case 7:\n                    _context9.next = 9;\n                    break;\n\n                  case 9:\n                    _context9.next = 13;\n                    break;\n\n                  case 11:\n                    _context9.prev = 11;\n                    _context9.t0 = _context9[\"catch\"](0);\n\n                  case 13:\n                  case \"end\":\n                    return _context9.stop();\n                }\n              }\n            }, _callee5, null, [[0, 11]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked5);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return all([fork(getMenuHeaderSaga), fork(getMenuNavSaga), fork(getMenuFooterTopSaga), fork(getMenuFooterMainSaga), fork(getMenuFooterBottomSaga)]);\n\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked6);\n}","map":{"version":3,"sources":["/home/user/mb-frontend/store/menu/saga.js"],"names":["getMenuHeaderSaga","getMenuNavSaga","getMenuFooterTopSaga","getMenuFooterMainSaga","getMenuFooterBottomSaga","rootSaga","actions","takeLatest","put","all","fork","getMenuItemByPosition","nest","items","id","link","filter","item","map","title","name","children","sort","a","b","position","expanded","GET_MENU_HEADER_REQUEST","res","status","type","GET_MENU_HEADER_RESPONSE","data","menuItems","GET_MENU_NAV_REQUEST","GET_MENU_NAV_RESPONSE","GET_MENU_FOOTER_TOP_REQUEST","GET_MENU_FOOTER_TOP_RESPONSE","GET_MENU_FOOTER_MAIN_REQUEST","GET_MENU_FOOTER_MAIN_RESPONSE","GET_MENU_FOOTER_BOTTOM_REQUEST","GET_MENU_FOOTER_BOTTOM_RESPONSE"],"mappings":"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","sourcesContent":["import actions from './actions';\nimport { takeLatest, put, all, fork } from 'redux-saga/effects';\nimport { getMenuItemByPosition } from '../../services/menu';\n\nconst nest = (items, id = null, link = 'parentId') => {\n  return items\n    .filter(item => item[link] === id)\n    .map(item => ({\n      ...item,\n      title: `${item.name}`,\n      children: nest(\n        items.sort((a, b) => a.position - b.position),\n        item.id\n      ),\n      expanded: true\n    }));\n};\n\nfunction* getMenuHeaderSaga() {\n  yield takeLatest(actions.GET_MENU_HEADER_REQUEST, function*() {\n    try {\n      const res = yield getMenuItemByPosition('top_top');\n      if (res.status === 200) {\n        yield put({\n          type: actions.GET_MENU_HEADER_RESPONSE,\n          data: nest(res.data.menuItems)\n        });\n      } else {\n        // console.log(res);\n      }\n    } catch (error) {\n      // console.log(error);\n    }\n  });\n}\n\nfunction* getMenuNavSaga() {\n  yield takeLatest(actions.GET_MENU_NAV_REQUEST, function*() {\n    try {\n      const res = yield getMenuItemByPosition('top2');\n      if (res.status === 200) {\n        yield put({\n          type: actions.GET_MENU_NAV_RESPONSE,\n          data: nest(res.data.menuItems)\n        });\n      } else {\n        // console.log(res);\n      }\n    } catch (error) {\n      // console.log(error);\n    }\n  });\n}\n\nfunction* getMenuFooterTopSaga() {\n  yield takeLatest(actions.GET_MENU_FOOTER_TOP_REQUEST, function*() {\n    try {\n      const res = yield getMenuItemByPosition('Menu footer top');\n      if (res.status === 200) {\n        yield put({\n          type: actions.GET_MENU_FOOTER_TOP_RESPONSE,\n          data: nest(res.data.menuItems)\n        });\n      } else {\n        // console.log(res);\n      }\n    } catch (error) {\n      // console.log(error);\n    }\n  });\n}\n\nfunction* getMenuFooterMainSaga() {\n  yield takeLatest(actions.GET_MENU_FOOTER_MAIN_REQUEST, function*() {\n    try {\n      const res = yield getMenuItemByPosition('Menu footer main');\n      if (res.status === 200) {\n        yield put({\n          type: actions.GET_MENU_FOOTER_MAIN_RESPONSE,\n          data: nest(res.data.menuItems)\n        });\n      } else {\n        // console.log(res);\n      }\n    } catch (error) {\n      // console.log(error);\n    }\n  });\n}\n\nfunction* getMenuFooterBottomSaga() {\n  yield takeLatest(actions.GET_MENU_FOOTER_BOTTOM_REQUEST, function*() {\n    try {\n      const res = yield getMenuItemByPosition('menu footer bottom');\n      if (res.status === 200) {\n        yield put({\n          type: actions.GET_MENU_FOOTER_BOTTOM_RESPONSE,\n          data: nest(res.data.menuItems)\n        });\n      } else {\n        // console.log(res);\n      }\n    } catch (error) {\n      // console.log(error);\n    }\n  });\n}\n\nexport default function* rootSaga() {\n  yield all([\n    fork(getMenuHeaderSaga),\n    fork(getMenuNavSaga),\n    fork(getMenuFooterTopSaga),\n    fork(getMenuFooterMainSaga),\n    fork(getMenuFooterBottomSaga)\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}